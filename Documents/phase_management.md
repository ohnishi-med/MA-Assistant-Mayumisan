# フェーズ管理 (Phase Management)

本プロジェクト「診療所スタッフ向けマニュアル管理システム (MA-Assistant-Mayumisan)」の開発見積もりと進捗を管理します。

## 現在のフェーズ
**Phase 2: 動的表示とメディア統合**

## フェーズ詳細

### Phase 1: MVP (Minimum Viable Product)
**目標**: 電子化されたマニュアルの作成、閲覧、カテゴリによる多経路アクセスの基本機能を、ローカルアプリ(Electron)として実装する。

- [x] **1.1 プロジェクト環境構築**
  - [x] Electron + Vite + React 環境セットアップ
  - [x] SQLite データベース初期化
- [x] **1.2 データベース設計・実装**
  - [x] `categories`, `manuals` 等の基本テーブル作成
  - [x] SQLite によるデータ永続化
- [x] **1.3 カテゴリ管理機能 (IPC/UI)**
  - [x] カテゴリ管理 IPC ハンドラの実装
  - [x] カテゴリ一覧表示・編集・削除 (Table View)
- [x] **1.4 マニュアル基本機能 (IPC/UI)**
  - [x] マニュアル管理 IPC ハンドラの実装
  - [x] フローチャートデータの保存 (React Flow + JSON)
  - [x] マニュアル概要・属性編集
- [x] **1.5 複数ルート・詳細表示**
  - [x] `category_manuals` を活用した複数カテゴリへの紐付け
  - [x] 選択されたカテゴリに応じた初期表示ノードの切り替え (Entry Point)
  - [x] ノード詳細コメントの Markdown プレビュー表示 (react-markdown)
  - [x] カテゴリツリーの再帰的表示・ナビゲーション (Recursive Tree)

### Phase 2: 動的表示とメディア統合
**目標**: アクセス経路に応じた動的強調表示の実装、および画像・動画による情報量の拡充。

- [x] **2.1 動的フローチャート強調 (Dynamic Highlighting)**
  - [x] アクセス経路（カテゴリ）に応じた強調ノードの自動フォーカス
  - [x] パンくずリストの実装 (例: 受付 > 保険 > 労災 > マニュアルA)
- **2.2 画像・動画管理ギャラリー**
  - [ ] ドラッグ＆ドロップによる画像アップロード (`manual_images`)
  - [ ] 各手順ノードへの画像・動画の紐付けと表示 (`react-image-gallery`)
- **2.3 検索機能と関連表示**
  - [ ] 全文検索機能 (タイトル、本文、手順コメント)
  - [ ] 同一カテゴリ内の関連マニュアルリンク表示
- **2.4 高度なエディタ機能**
  - [ ] フローチャート編集時の Undo/Redo
  - [ ] マニュアルのステータス管理 (下書き / 公開中)
  - [ ] マニュアル新規作成ウィザード

### Phase 3: 編集・バージョン管理
**目標**: 運用現場での即時修正と、変更履歴の透明性を確保する。

- **3.1 統合編集エクスペリエンス**
  - [ ] ガイド実行画面からの「編集」ボタンの実装
  - [ ] 編集画面へのコンテキスト引き継ぎ
- **3.2 バージョン管理システム**
  - [ ] 同一 `parent_id` を持つ複数バージョンの保存ロジック
  - [ ] 過去バージョンの一覧表示と切り替え
  - [ ] 「新バージョンとして保存」機能
- **3.3 ステータス遷移**
  - [ ] 公開ステータス管理（下書き / 公開中）
  - [ ] 承認ワークフローの基礎実装

### 基盤整備・その他 (Backlog)
- [ ] Windows インストーラー (NSIS) の整備
- [ ] FAQ・ヘルプページ作成
- [ ] 印刷用レイアウトの最適化

## 完了済みフェーズ
- **Phase 1**: 実装完了 (2026-02-02)
- **Phase 2.1**: 動的強調およびパンくずリスト実装完了 (2026-02-02)
